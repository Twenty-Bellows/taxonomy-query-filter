{"version":3,"file":"index.js","mappings":"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","sources":["webpack://taxonomy-query-filter/./src/edit.js","webpack://taxonomy-query-filter/external window \"ReactJSXRuntime\"","webpack://taxonomy-query-filter/external window [\"wp\",\"apiFetch\"]","webpack://taxonomy-query-filter/external window [\"wp\",\"blockEditor\"]","webpack://taxonomy-query-filter/external window [\"wp\",\"blocks\"]","webpack://taxonomy-query-filter/external window [\"wp\",\"components\"]","webpack://taxonomy-query-filter/external window [\"wp\",\"element\"]","webpack://taxonomy-query-filter/webpack/bootstrap","webpack://taxonomy-query-filter/webpack/runtime/compat get default export","webpack://taxonomy-query-filter/webpack/runtime/define property getters","webpack://taxonomy-query-filter/webpack/runtime/hasOwnProperty shorthand","webpack://taxonomy-query-filter/webpack/runtime/make namespace object","webpack://taxonomy-query-filter/./src/index.js"],"sourcesContent":["import { InspectorControls, useBlockProps } from '@wordpress/block-editor';\nimport { PanelBody, SelectControl } from '@wordpress/components';\nimport { useEffect, useState } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\n\nexport default function Edit( { context, attributes, setAttributes } ) {\n\n\tconst postType = context.query.postType;\n\tconst [ taxonomies, setTaxonomies ] = useState( [] );\n\tconst { taxonomy } = attributes;\n\n\tuseEffect( () => {\n\t\tapiFetch( { path: `/wp/v2/taxonomies?type=${ postType }` } )\n\t\t\t.then( ( taxonomies ) => {\n\t\t\t\tconst taxonomyOptions = Object.values( taxonomies ).map(\n\t\t\t\t\t( taxonomy ) => ( {\n\t\t\t\t\t\tlabel: taxonomy.name,\n\t\t\t\t\t\tvalue: taxonomy.slug,\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t\tsetTaxonomies( taxonomyOptions );\n\t\t\t} )\n\t\t\t.catch( ( error ) => {\n\t\t\t\tconsole.error( 'Error fetching taxonomies:', error );\n\t\t\t} );\n\t}, [] );\n\n\tconst handleTaxonomyChange = ( selectedTaxonomy ) => {\n\t\tsetAttributes( { taxonomy: selectedTaxonomy } );\n\t};\n\n\treturn (\n\t\t<div { ...useBlockProps() }>\n\t\t\t<SelectControl\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tvalue={ taxonomy }\n\t\t\t\toptions={ taxonomies }\n\t\t\t\tonChange={ ( taxonomy ) => handleTaxonomyChange( taxonomy ) }\n\t\t\t/>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ 'Taxonomy to Filter' }>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel=\"Select Taxonomy\"\n\t\t\t\t\t\tvalue={ taxonomy }\n\t\t\t\t\t\toptions={ taxonomies }\n\t\t\t\t\t\tonChange={ ( taxonomy ) =>\n\t\t\t\t\t\t\thandleTaxonomyChange( taxonomy )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t</div>\n\t);\n}\n","module.exports = window[\"ReactJSXRuntime\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType, registerBlockVariation } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport metadata from './block.json';\n\nregisterBlockType( metadata.name, {\n\tedit: Edit,\n} );\n\nregisterBlockVariation( 'twentybellows/taxonomy-query-filter', {\n\tname: 'taxonomy-query-filter-radio',\n\ttitle: 'Taxonomy Query Filter - Radio',\n\tdescription: 'Query filter using radio as the input',\n\tisDefault: false,\n\tattributes: {\n\t\telement: 'radio',\n\t},\n\tisActive: ( blockAttributes, variationAttributes ) =>\n\t\tblockAttributes.element === variationAttributes.element,\n} );\n"],"names":["InspectorControls","useBlockProps","PanelBody","SelectControl","useEffect","useState","apiFetch","jsx","_jsx","jsxs","_jsxs","Edit","context","attributes","setAttributes","postType","query","taxonomies","setTaxonomies","taxonomy","path","then","taxonomyOptions","Object","values","map","label","name","value","slug","catch","error","console","handleTaxonomyChange","selectedTaxonomy","children","__next40pxDefaultSize","__nextHasNoMarginBottom","options","onChange","title","registerBlockType","registerBlockVariation","metadata","edit","description","isDefault","element","isActive","blockAttributes","variationAttributes"],"sourceRoot":""}